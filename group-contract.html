<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M16 from src/site/markdown/group-contract.md at 2024-04-30
 | Rendered using Apache Maven Fluido Skin 2.0.0-M8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M16" />
    <title>jaxb-rich-contract-plugin – group-contract</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M8.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M8.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-04-30<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 4.2.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Getting Started</li>
    <li><a href="index.html">Overview</a></li>
    <li><a href="getting.html">Download</a></li>
    <li><a href="history.html">Version History</a></li>
    <li><a href="usage.html">Usage</a></li>
   <li class="nav-header">XJC Plugin Options</li>
    <li><a href="fluent-builder.html">fluent-builder</a></li>
    <li class="active"><a>group-contract</a></li>
    <li><a href="immutable.html">immutable</a></li>
    <li><a href="modifier.html">modifier</a></li>
    <li><a href="clone.html">clone</a></li>
    <li><a href="copy.html">copy</a></li>
    <li><a href="constrained-properties.html">constrained-properties</a></li>
    <li><a href="meta.html">meta</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><section>
<h2>group-contract</h2><section>
<h3>Motivation</h3>
<p>In most object-oriented programming languages, there are constructs to define a &#x201c;contract&#x201d;, that concrete implementations of complex
types will implement. In Java, for example, there is the <code>interface</code>, in Scala there are &#x201c;traits&#x201d;, and so on.
The XML Schema Definition Language (XSD) in contrast, has no explicit construct to ensure a complex type meets a
pre-defined contract. There are, however, the <code>group</code> and <code>attributeGroup</code> elements, that could be considered
a way to achieve just that: A complexType that uses a <code>&lt;group&gt;</code> or an <code>&lt;attributeGroup&gt;</code> will expose the
properties defined in these group definitions. Looking at it that way, you could say that the <code>complexType</code>
&#x201c;implements&#x201d; the contract defined by the <code>group</code> or <code>attributeGroup</code>.</p></section><section>
<h3>Function</h3>
<p>The group-contract plugin now tries to model that case in the generated source code. For every <code>group</code>and <code>attributeGroup</code>
definition in the XSD model (or in any upstream XSD model that is included via the &#x201c;episode&#x201d; mechanism, for that matter),
it generates an <code>interface</code> definition with all the getter, and optionally setter, methods of the properties defined via
the <code>group</code> or <code>attributeGroup</code> definition.</p>
<p>Then, it declares every class that was generated from a <code>complexType</code> that uses the <code>group</code> or <code>attributeGroup</code> as implementing
just that interface. This way, all classes generated from XSD complexTypes that use the same group definitions, will
share a common contract and can be treated in a common way by client code.</p>
<p>If the &#x201c;fluent-builder&#x201d; plugin is also activated, the interface definition can optionally include the declarations of the &#x201c;with&#x2026;&#x201d;
and &#x201c;add&#x2026;&#x201d; methods of the generated builder class as a nested interface declaration, so you can even rely on a common
&#x201c;builder&#x201d; contract for classes using the same <code>group</code> and <code>attributeGroup</code> definitions.</p>
<p>For example, you may wish to add &#x201c;XLink&#x201d; functionality to your generated classes. If the group-contract plugin is
activated, you can define a complexType in XSD that supports the &#x201c;simple&#x201d; attributes by adding to its XSD definition:</p>

<div class="verbatim">
<pre><code class="language-xml">&lt;complexType name=&quot;some-type&quot;&gt;
	.... (model group of the type...)
	&lt;attributeGroup ref=&quot;xlink:simpleAttrs&quot;/&gt;
&lt;/complexType&gt;
</code></pre></div>
<p>Which will generate a class something like:</p>

<div class="verbatim">
<pre><code class="language-java">public class SomeType implements SimpleAttrs {
...
</code></pre></div>
<p>And an interface definition like:</p>

<div class="verbatim">
<pre><code class="language-java">public interface SimpleAttrs {
	String getHref();
	void setHref(final String value);
	// ... more properties ...

	// this part is generated only if fluent-builder is also active
	interface BuildSupport&lt;TParentBuilder &gt;{
            public SimpleAttrs.BuildSupport&lt;TParentBuilder&gt; withHref(final String href);
            //... more properties ...
	}
}
</code></pre></div>
<p>Similar effects could be achieved by subclassing complexTypes, but since there is no multiple inheritance, inheritance
hierarchies can get overly complex this way, and inheritance is less flexible than interface implementations.</p>
<p><strong>Note:</strong> The group-contract plugin supports JAXB modular compilation, i.e. the &#x201c;episode&#x201d; mechanism implemented
in the JAXB reference implementation.
However, due to the lack of extensibility of the current default episode data structures and processing, this plugin
has to manage its own &#x201c;episode&#x201d; file. There are two command line options to control the  names of the &#x201c;upstream&#x201d; episode
file, i.e. the file name the plugin should look for when using other modules, and the &#x201c;downstream&#x201d; file, i.e. the file
name that should be generated for use by other modules.</p>
<p><strong>Note:</strong> The group-contract-plugin supports, since 4.1.3, a rudimentary mechanism to modify the name of the generated
interface similar to the &lt;class&#x2026; customization supported by standard JAXB.
Unfortunately, XJC doesn't allow us to place a plugin customization on a group or attributeGroup definition, so the
approach is a bit awkward: The plugin customization has to be applied on the global (schema) level in the following way:</p>

<div class="verbatim">
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;

&lt;jxb:bindings version=&quot;3.0&quot; xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
			  xmlns:gi=&quot;http://www.kscs.com/util/jaxb/bindings&quot;&gt;

	&lt;jxb:bindings schemaLocation=&quot;my-xml-schema-file.xsd&quot; node=&quot;/xs:schema&quot;&gt;
		&lt;gi:interface groupNamespace=&quot;http://my-target-namespace&quot; groupName=&quot;MyModelGroup&quot; name=&quot;MyChangedModelGroupName&quot;/&gt;
	&lt;/jxb:bindings&gt;

&lt;/jxb:bindings&gt;

</code></pre></div></section><section>
<h3>Usage</h3><section>
<h4>-Xgroup-contract</h4></section><section>
<h4>Options</h4><section>
<h5>-group-contract.declareSetters=<code>{y|n}</code> (y)</h5>
<p>Also generate property setter methods in interface declarations.</p></section><section>
<h5>-group-contract.declareBuilderInterface=<code>{y|n}</code> (y)</h5>
<p>If the &#x201c;fluent builder plugin&#x201d; (-Xfluent-builder) is also active, generate interface for the internal builder classes as well.</p></section><section>
<h5>-group-contract.supportInterfaceNameSuffix=<code>&lt;string&gt;</code> (Lifecycle)</h5>
<p>If this is set, methods that could cause type conflicts when two generated interfaces are used together as type parameter bounds, will be put in another interface named the same as the original interface, but with the suffix specified here.</p></section><section>
<h5>-group-contract.upstreamEpisodeFile=<code>&lt;string&gt;</code> (META-INF/jaxb-interfaces.episode)</h5>
<p>Use the given resource file to obtain information about interfaces defined in an upstream module (refer to &#x201c;-episode&#x201d; option of XJC).</p></section><section>
<h5>-group-contract.downstreamEpisodeFile=<code>&lt;string&gt;</code> (META-INF/jaxb-interfaces.episode)</h5>
<p>Generate &#x201c;episode&#x201d; file for downstream modules in the given resource location.</p></section></section></section></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2024
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>